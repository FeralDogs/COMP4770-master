<!-- levelEditor button does not work for some reason -->
<!DOCTYPE HTML>
<HTML>
<!-- <head>
      <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
      <script  async src="js/entity.js"></script>
      <script type="text/javascript;charset=utf-8" async src="js/inventory.js"></script>
</head> -->
<script src="js/entity.js"></script>
<body>
<div id="signDiv">
	Username: <input id="signDiv-username" type="text"></input><br>
	Password: <input id="signDiv-password" type="password"></input>
	<button id="signDiv-signIn">Sign In</button>
	<button id="signDiv-signUp">Sign Up</button>
</div>

<div id="gameDiv" style="display:none;">
	<div id="game" style="position:absolute;width:1280px;height:720px">
		<canvas id="ctx" width="1280" height="720" style="position:absolute;border:1px solid #000000;"></canvas>
		<canvas id="ctx-ui" width="1280" height="720" style="position:absolute;border:1px solid #000000;"></canvas>
	</div>
</div>


<div id="levelEditor" style="display:none;">
	<div id="editor" style="position:absolute;width:1280px;height:720px">
		<canvas id="ctxLE" width="1280" height="720" style="position:absolute;border:1px solid #000000;"></canvas>
		<canvas id="ctx-uiLE" width="1280" height="720" style="position:absolute;border:1px solid #000000;"></canvas>
	</div>

</div>

<div id="selections" style ="display:none;">
      <select>
            <option value="asset1">asset1</option>
            <option value="asset2">asset2</option>
            <option value="asset3">asset3</option>
      </select>
</div>


<div id="mainMenu" style="display:none;">
      <button id="newGame">New Game</button>
      <button id="loadGame">Load Game</button>
      <button id="levelEditorB">Level Editor</button>
</div>
<!-- All files had the same id
      Will need to connect to database -->
<div id="loadFile" style="display:none;">
      <button id="file">File One</button>
      <button id="file">File Two</button>
      <button id="file">File Three</button>
</div>




<script>
      let signDivSignIn = document.getElementById('signDiv-signIn');
      let signDivSignUp = document.getElementById('signDiv-signUp');
      let newGame = document.getElementById('newGame');
      let loadGame = document.getElementById('loadGame');
      let levelEditorB = document.getElementById('levelEditorB');
      let loadFile = document.getElementById('loadFile');
      let file = document.getElementById('file');
	let keyUp=87;
	let keyDown=83;
	let keyRight=68;
	let keyLeft=65;
	let keyPause=80;
	let keyGrapple=32;
	let W=1280;
	let H=720;
	let overworld=true;
      var Img = {};
      Img.player = new Image();
      Img.player.src = "img/Armature_Idle_12.png";

	//testing collision of rectangles
	testCollisionRects = function(rect1,rect2){
	return rect1.x <= rect2.x+rect2.width
		&& rect2.x <= rect1.x+rect1.width
		&& rect1.y <= rect2.y + rect2.height
		&& rect2.y <= rect1.y + rect1.height;
}

	//action listeners, logic tbd
	document.onmousedown=function(mouse){}
	document.onmouseup=function(mouse){}
	document.oncontextmenu=function(mouse){
		mouse.preventDefault();
	}
	document.onmousemove=function(mouse){}
	document.onkeydown=function(event){
		if(event.keyCode==keyUp) {
			player.upPress=true;
            }
		else if(event.keyCode==keyDown) {
			player.downPress=true;
            }
		else if(event.keyCode==keyRight){
			player.rightPress=true;
            }
		else if(event.keyCode==keyLeft) {
			player.leftPress=true;
            }
		else if(event.keyCode==keyPause) {
			//add logic to pause
            }
		else if(event.keyCode==keyGrapple) {
			player.grapplePress=true;
            }
	}
	document.onkeyup=function(event){
		if(event.keyCode==keyUp)
			player.upPress=false;
		else if(event.keyCode==keyDown)
			player.downPress=false;
		else if(event.keyCode==keyRight)
			player.rightPress=false;
		else if(event.keyCode==keyLeft)
			player.leftPress=false;
		else if(event.keyCode==keyPause) {
			//add logic to pause
            }
		else if(event.keyCode==keyGrapple)
			player.grapplePress=false;
	}

	//update for in game, logic tbd
	update=function(){
            ctx.clearRect(0, 0, 1280, 720);
            player.update();
			Enemy.update();
            console.log("Player (X,Y): " + "(" + player.x + ", " + player.y + ")");
      }


      signDivSignIn.onclick = function() {
            console.log("signDivSignIn HIT")
            signDiv.style.display = 'none';
            //gameDiv.style.display = 'inline-block';
            mainMenu.style.display = 'inline-block';
	}

      signDivSignUp.onlclick = function() {

      }

      newGame.onclick = function() {
            console.log("newGame HIT")
            mainMenu.style.display = 'none';
            gameDiv.style.display = 'inline-block';
      }

      loadGame.onclick = function() {
            console.log("loadGame HIT")
            mainMenu.style.display = 'none';
            loadFile.style.display = 'inline-block';
      }

      file.onclick = function () {
            console.log("file HIT")
            loadFile.style.display = 'none';
            gameDiv.style.display = 'inline-block';
      }

      levelEditorB.onclick = function() {
            console.log("levelEditorB HIT");
            mainMenu.style.display = 'none';
            levelEditor.style.display = 'inline-block';
             selections.style.display = 'inline';
      }

      // <!--  drawing to canvus and moving -->

      let ctx = document.getElementById('ctx').getContext('2d');

      // let player = {
      //       x:50,
      //       y:50,
      // };
      player = Player();
	Enemy.generate(0,0,Img.player,'e');
      var img = new Image()

      // img.onload = function() {
      //
      //
      //     ctx.drawImage(img, 0, 0);
      //
      // };

      img.src = "img/Armature_Idle_12.png";


      setInterval(update, 30);

      //ctx.fillRect(Player.x, player.y, 20, 20);




</script>
</body>
<!-- <style>
      selections {
            position: absolute;
            right: 1290px;

      }
</style> -->
</HTML>
